@model IEnumerable<RetailStore.Models.ProductViewModel>

@{
  ViewData["Title"] = "Index";
  Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- Content Header (Page header) -->
<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1 class="m-0 text-dark">Products </h1>
        <div id="counter"></div>
      </div><!-- /.col -->
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
        </ol>
      </div><!-- /.col -->
    </div><!-- /.row -->
  </div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->
<section class="content">
  <div class="container-fluid">
    <div class="row">
      <!-- left column -->
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <a asp-action="Create"><i class="fa fa-plus-circle text-primary"></i> Create New</a>
          </div>
          <div class="card-body">
            <table class="table table-bordered table-hover dataTable" id="productDataTable"></table>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>


@section Scripts
  {
  <script>
    var productTable;
    $(document).ready(function () {
      initProductTable();
    });

    function initProductTable() {
      productTable = $('#productDataTable').DataTable({
        paging: true,
        ajax: {
          type: 'Get',
          url: '/product/index',
        },
        columns: [
          { data: "categoryName", title: 'Category' },
          { data: "name", title: 'Name' },
          { data: "description", title: 'Description' },
          { data: "salePrice", title: 'Unit Price' },
          {
            data: "", title: 'Action', render: function (data, type, row, meta) {
              return '<a href="Product/Edit/' + row.id + '">Edit</a> | <a href="Product/Detail/' + row.id + '">Detail</a> | <a href="Product/Delete/' + row.id + '">Delete</a>';
            }
          }
        ]
      });

    }

  </script>


}